"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[341],{5298:function(e,n,t){t.r(n),t.d(n,{Head:function(){return m},default:function(){return c}});var r=t(5861),l=t(4687),a=t.n(l),o=t(7294),u=t(3159),i=t(5785),s=function(e){var n,t,r,l=e.work,a=null!==(n=l.covers)&&void 0!==n?n:null;return o.createElement("div",{className:"book__card"},o.createElement("p",null,"Title: ",o.createElement("span",null,null!==(t=null==l?void 0:l.title)&&void 0!==t?t:"Unknown")),o.createElement("p",null,"First published: ",o.createElement("span",null,null!==(r=null==l?void 0:l.first_publish_date)&&void 0!==r?r:"Unknown"," ")),a?o.createElement("img",{className:"image",src:"https://covers.openlibrary.org/b/id/"+a[0]+"-M.jpg"}):o.createElement("p",{className:"image"},"No image available"))},c=function(){var e=(0,o.useState)(null),n=e[0],t=e[1],l=(0,o.useState)(null),c=l[0],m=l[1],p=(0,o.useState)(0),f=p[0],d=p[1],v=(0,o.useRef)(null),g={countCalls:f},E=(0,o.useRef)(g);E.current=g;var b=(0,o.useCallback)(function(e,n){void 0===n&&(n=1e3);var t,r=!1,l=function l(){null==t?r=!1:(e.apply(void 0,(0,i.Z)(t)),t=null,setTimeout(l,n))};return console.log(r),function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];r?t=o:(e.apply(void 0,o),r=!0,console.log({wait:r,args:o,waitingArgs:t}),setTimeout(l,n))}}((function(){var e;if(v&&v.current&&null!==(e=v.current)&&void 0!==e&&e.value){var n,t=E.current.countCalls;d(t+1);var r=null===(n=v.current)||void 0===n?void 0:n.value,l="https://openlibrary.org/search/authors.json?q="+r+"&limit=50";k(l)}}),1500),[]),k=function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(n).then((function(e){return e.json()})).then((function(e){return h(e)})).then((function(e){return t(e)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(n).then((function(e){return e.json()})).then((function(e){return m(e)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return o.createElement(u.A,{className:"garden__page debounce-throttle"},o.createElement("p",null),o.createElement("h3",null,"API Call Count: ",f),o.createElement("p",{className:"debounce-throttle__description"},"Whilst knowing the need and use of debounce and throttle, I haven't found myself needing to implement either in the past. So I decided to start looking into it myself and create this search. This uses throttling on the input below so that calls are only sent per ",1500," ","milliseconds.",o.createElement("br",null),o.createElement("br",null),"Of course in the making of this I must have hit this API a good number of times...",o.createElement("br",null),o.createElement("br",null),"This is incomplete at the moment, however in the theme of 'learning in public', posting online now seems like the way to go.",o.createElement("br",null),o.createElement("br",null),"All API calls are thanks to"," ",o.createElement("a",{href:"https://openlibrary.org/developers/api"},"Open Library"),". They have simple documentation, easy to use, and truly great a resource."),o.createElement("div",{className:"search__panel"},o.createElement("p",null,"Enter author name ",o.createElement("em",null,"(exact matches only)")),o.createElement("input",{type:"text",ref:v,onChange:b,className:"input search "+(n?"results":""),onClick:b,onBlur:function(){return setTimeout((function(){return t(null)}),100)}}),n&&o.createElement("ul",{className:"search__result"},Object.keys(n).map((function(e,r){var l=n[e];return o.createElement("li",{key:r,onClick:function(){return function(e){for(var n=0,r=e.length;n<r;n++)y("https://openlibrary.org/authors/"+e[n]+"/works.json");t(null)}(l)}},e)})))),c&&o.createElement("ul",{className:"works__results"},(null==c?void 0:c.entries)&&c.entries.map((function(e,n){return o.createElement(s,{key:n,work:e})}))))},m=function(){return o.createElement("title",null,"Debounce and Throttle")},h=function(e){var n,t=null!==(n=null==e?void 0:e.docs)&&void 0!==n?n:null;if(t){for(var r={},l=0,a=t.length;l<a;l++){var o,u=t[l],i=null!==(o=null==u?void 0:u.name)&&void 0!==o?o:null;i&&r&&r[i]?r[u.name].push(u.key):r[u.name]=[u.key]}return r}}}}]);
//# sourceMappingURL=component---src-pages-garden-debounce-and-throttle-tsx-c1bab5554167520b3d7c.js.map